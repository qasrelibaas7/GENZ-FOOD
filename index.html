<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENZ FOOD | Premium Village Delivery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #fcfcfc; scroll-behavior: smooth; padding-bottom: 120px; }
        .gold-gradient { background: linear-gradient(135deg, #D4AF37 0%, #B8860B 100%); }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 1000; align-items: center; justify-content: center; padding: 20px; }
        .modal.active { display: flex; }
        #cart-bar { transition: transform 0.3s ease-in-out; transform: translateY(100%); position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 3px solid #D4AF37; padding: 16px; z-index: 50; box-shadow: 0 -10px 25px rgba(0,0,0,0.1); }
        #cart-bar.active { transform: translateY(0); }
        .food-card { border: 1px solid #f0f0f0; transition: 0.3s; }
    </style>
</head>
<body>

    <header class="sticky top-0 z-40 bg-white/95 backdrop-blur-md shadow-sm p-4 border-b border-gold">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex flex-col">
                <span class="text-2xl font-bold leading-none">GENZ <span class="text-[#D4AF37]">FOOD</span></span>
                <span class="text-[10px] tracking-widest text-gray-400 font-bold uppercase">Village Delivery</span>
            </div>
            <div class="text-right">
                <span id="current-time-display" class="text-[10px] font-bold text-gray-400 block"></span>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div id="menu-container" class="space-y-12"></div>

        <div id="billModal" class="modal">
            <div class="bg-white rounded-3xl p-8 w-full max-w-sm shadow-2xl relative">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 tracking-tighter">GENZ FOOD</h2>
                    <p class="text-[10px] text-gray-400 uppercase tracking-widest border-b border-dashed border-gray-200 pb-2">Digital Receipt</p>
                </div>
                <div id="billItems" class="space-y-3 mb-6 max-h-64 overflow-y-auto pr-2">
                    </div>
                <div class="flex justify-between items-center mb-8 pt-4 border-t border-dashed border-gray-200">
                    <span class="font-bold text-gray-500">Total Payable:</span>
                    <span id="billTotal" class="text-2xl font-black text-[#B8860B]">â‚¹0</span>
                </div>
                <button onclick="confirmAndSend()" class="w-full gold-gradient text-white font-bold py-4 rounded-2xl shadow-lg mb-3">Order via WhatsApp âž”</button>
                <button onclick="closeBill()" class="w-full text-gray-400 text-xs font-bold uppercase tracking-widest">Back to Menu</button>
            </div>
        </div>

        <div id="cart-bar" class="flex justify-between items-center">
            <div>
                <p id="cart-count" class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">0 Items</p>
                <p id="cart-total" class="text-2xl font-black text-[#D4AF37]">â‚¹0</p>
            </div>
            <button onclick="showBill()" class="gold-gradient text-white px-8 py-4 rounded-2xl font-bold shadow-lg">Checkout ðŸ§¾</button>
        </div>

        <script>
            const WHATSAPP_NUMBER = "917385009275"; 
            let cart = {};

            const menuData = [
                { id: "hotel-harsh", name: "Hotel Harsh", open: 11, close: 23.5, items: [
                    { name: "Chicken Dry Fry", price: 160 }, { name: "Egg Bhurji", price: 50 }, { name: "Chicken Kabab", price: 100 }, 
                    { name: "Special Chicken Curry", price: 120 }, { name: "Chicken Dum Biryani", price: 140 }, { name: "Chicken Thali", price: 150 }
                ]},
                { id: "woleeepa", name: "Woleeepa Cafe", open: 14, close: 22, items: [
                    { name: "Special Masala Chai", price: 20 }, { name: "Cold Coffee", price: 60 }, { name: "Chicken Sandwich", price: 80 }, { name: "Chicken Burger", price: 80 }
                ]},
                { id: "fadke", name: "Hotel FADKE THAALI", open: 11, close: 22, items: [
                    { name: "Veg Manchurian Dry", price: 80 }, { name: "Paneer 65", price: 120 }, { name: "Dal Tadka", price: 80 }, { name: "Special Veg Thali", price: 150 }
                ]},
                { id: "vinod", name: "Hotel Vinod", open: 11, close: 23.5, items: [
                    { name: "Cold Coffee with Ice Cream", price: 80 }, { name: "Masala Fries", price: 60 }, { name: "Chicken Curry", price: 130 }, 
                    { name: "Chicken Dum Biryani", price: 150 }, { name: "Chicken Thali", price: 160 }
                ]},
                { id: "red-dragon", name: "Red Dragon", open: 12, close: 22, items: [
                    { name: "Veg Hakka Noodles", price: 100 }, { name: "Chicken Noodles", price: 150 }, { name: "Chicken Fried Rice", price: 100 }, { name: "Chicken Lollipop", price: 150 }
                ]},
                { id: "aai-chinese", name: "AAI Chinese", open: 12, close: 22, items: [
                    { name: "Veg Steamed Momos", price: 60 }, { name: "Chicken Fried Momos", price: 100 }, { name: "Dragon Chicken", price: 150 }, { name: "Chicken Drumsticks", price: 160 }
                ]},
                { id: "datta-bhel", name: "Datta Bhel", open: 15, close: 21, items: [
                    { name: "Classic Pani Puri", price: 30 }, { name: "Sukha Puri", price: 30 }, { name: "Dahi Puri", price: 50 }, { name: "Classic Bhel Puri", price: 40 }
                ]}
            ];

            function isHotelOpen(open, close) {
                const now = new Date();
                const current = now.getHours() + (now.getMinutes() / 60);
                return current >= open && current < close;
            }

            function renderMenu() {
                const container = document.getElementById('menu-container');
                container.innerHTML = "";
                menuData.forEach(hotel => {
                    const open = isHotelOpen(hotel.open, hotel.close);
                    let section = `<section id="${hotel.id}">
                        <div class="flex justify-between items-baseline mb-4 border-b border-gray-100 pb-2">
                            <h2 class="text-xl font-black text-gray-800 uppercase tracking-tight">${hotel.name}</h2>
                            <span class="text-[9px] font-bold px-2 py-0.5 rounded-full ${open ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}">${open ? 'OPEN' : 'CLOSED'}</span>
                        </div>
                        <div class="grid grid-cols-1 gap-3">`;
                    
                    hotel.items.forEach(item => {
                        const safeID = item.name.replace(/\s+/g, '');
                        section += `
                            <div class="bg-white p-4 rounded-2xl flex justify-between items-center food-card ${!open ? 'opacity-40' : ''}">
                                <div>
                                    <h4 class="font-bold text-gray-800 text-sm">${item.name}</h4>
                                    <p class="text-[#B8860B] font-bold text-sm">â‚¹${item.price}</p>
                                </div>
                                <div class="flex items-center gap-3 bg-gray-50 p-1 rounded-xl">
                                    <button onclick="${open ? `changeQty('${item.name}', -1, ${item.price}, '${hotel.name}')` : ''}" class="w-8 h-8 bg-white rounded-lg shadow-sm text-red-500 font-bold">-</button>
                                    <span id="qty-${safeID}" class="font-bold text-sm min-w-[15px] text-center">0</span>
                                    <button onclick="${open ? `changeQty('${item.name}', 1, ${item.price}, '${hotel.name}')` : ''}" class="w-8 h-8 bg-white rounded-lg shadow-sm text-green-500 font-bold">+</button>
                                </div>
                            </div>`;
                    });
                    container.innerHTML += section + `</div></section>`;
                });
            }

            function changeQty(name, delta, price, hotel) {
                if(!cart[name]) cart[name] = { price, qty: 0, hotel };
                cart[name].qty += delta;
                if(cart[name].qty <= 0) { cart[name].qty = 0; delete cart[name]; }
                const safeID = name.replace(/\s+/g, '');
                const el = document.getElementById(`qty-${safeID}`);
                if(el) el.innerText = cart[name] ? cart[name].qty : 0;
                updateCart();
            }

            function updateCart() {
                let total = 0, count = 0;
                for(let key in cart) { total += cart[key].price * cart[key].qty; count += cart[key].qty; }
                document.getElementById('cart-count').innerText = `${count} ITEMS SELECTED`;
                document.getElementById('cart-total').innerText = `â‚¹${total}`;
                document.getElementById('cart-bar').classList.toggle('active', count > 0);
            }

            function showBill() {
                const billItems = document.getElementById('billItems');
                let total = 0;
                billItems.innerHTML = "";
                for(let key in cart) {
                    const itemTotal = cart[key].price * cart[key].qty;
                    total += itemTotal;
                    billItems.innerHTML += `
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-500">${cart[key].qty} x ${key}</span>
                            <span class="font-bold text-gray-800">â‚¹${itemTotal}</span>
                        </div>`;
                }
                document.getElementById('billTotal').innerText = `â‚¹${total}`;
                document.getElementById('billModal').classList.add('active');
            }

            function closeBill() { document.getElementById('billModal').classList.remove('active'); }

            function confirmAndSend() {
                let msg = "GENZ FOOD - NEW ORDER ðŸ§¾%0A---------------------------%0A";
                let total = 0;
                for(let key in cart) {
                    msg += `âœ… ${cart[key].qty}x ${key} (${cart[key].hotel}) - â‚¹${cart[key].price * cart[key].qty}%0A`;
                    total += cart[key].price * cart[key].qty;
                }
                msg += `---------------------------%0AðŸ’° *TOTAL BILL: â‚¹${total}*`;
                window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`);
                closeBill();
            }

            window.onload = () => {
                renderMenu();
                setInterval(() => {
                    const now = new Date();
                    document.getElementById('current-time-display').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                }, 1000);
            };
        </script>
    </main>
</body>
</html>

