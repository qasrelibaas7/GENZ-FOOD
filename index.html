<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENZ FOOD | Premium Village Delivery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #D4AF37; --light-gold: #fcf8e8; }
        body.dark-mode { background-color: #121212; color: #ffffff; }
        .dark-mode header, .dark-mode .bg-white, .dark-mode footer, .dark-mode #cart-bar { background-color: #1e1e1e !important; color: white; border-color: #333 !important; }
        .dark-mode .food-card { background-color: #252525 !important; border-color: #333; }
        .dark-mode .text-gray-800, .dark-mode .text-gray-600 { color: #e0e0e0 !important; }
        .dark-mode input, .dark-mode textarea { background-color: #2d2d2d !important; color: white; border: 1px solid #444; }
        .dark-mode .category-pill { background-color: #2d2d2d !important; color: #D4AF37 !important; }
        .dark-mode .bg-gray-50 { background-color: #2d2d2d !important; }
        
        body { font-family: 'Poppins', sans-serif; background-color: #fcfcfc; scroll-behavior: smooth; transition: background 0.3s; padding-bottom: 100px; }
        h1, h2, h3 { font-family: 'Playfair Display', serif; }
        .gold-gradient { background: linear-gradient(135deg, #D4AF37 0%, #B8860B 100%); }
        .food-card { transition: all 0.4s; border: 1px solid rgba(212, 175, 55, 0.1); overflow: hidden; }
        .marquee-container { background: #D4AF37; color: white; overflow: hidden; white-space: nowrap; padding: 6px 0; font-size: 12px; font-weight: bold; }
        .marquee-text { display: inline-block; animation: marquee 25s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        #cart-bar { transition: transform 0.3s ease-in-out; transform: translateY(100%); }
        #cart-bar.active { transform: translateY(0); }
    </style>
</head>
<body id="body">

    <div class="marquee-container">
        <div class="marquee-text">
            ‚ö° FREE DELIVERY on orders above ‚Çπ200! ¬†¬†¬†¬† üî• Sunday Special: Extra 10% OFF ¬†¬†¬†¬† üìç Serving 15+ Villages!
        </div>
    </div>

    <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm border-b border-gold">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex flex-col">
                <span class="text-2xl font-bold tracking-tighter leading-none">GENZ <span class="text-[#D4AF37]">FOOD</span></span>
                <span class="text-[10px] uppercase tracking-[0.2em] text-gray-400">Premium Delivery</span>
            </div>
            <button onclick="toggleDarkMode()" class="p-2 rounded-full bg-gray-100 dark:bg-gray-800">
                <span id="theme-icon">üåô</span>
            </button>
        </div>
        <div class="flex overflow-x-auto hide-scrollbar py-3 px-4 gap-3 bg-white border-t border-gray-50">
            <a href="#hotel-harsh" class="category-pill px-4 py-1 rounded-full bg-[#fcf8e8] text-[#B8860B] text-xs font-bold border border-[#D4AF37]">Hotel Harsh</a>
            <a href="#woleeepa" class="category-pill px-4 py-1 rounded-full bg-[#fcf8e8] text-[#B8860B] text-xs font-bold border border-[#D4AF37]">Woleeepa Cafe</a>
            <a href="#fadke" class="category-pill px-4 py-1 rounded-full bg-[#fcf8e8] text-[#B8860B] text-xs font-bold border border-[#D4AF37]">Fadke Thaali</a>
            <a href="#vinod" class="category-pill px-4 py-1 rounded-full bg-[#fcf8e8] text-[#B8860B] text-xs font-bold border border-[#D4AF37]">Hotel Vinod</a>
            <a href="#red-dragon" class="category-pill px-4 py-1 rounded-full bg-[#fcf8e8] text-[#B8860B] text-xs font-bold border border-[#D4AF37]">Red Dragon</a>
            <a href="#aai-chinese" class="category-pill px-4 py-1 rounded-full bg-[#fcf8e8] text-[#B8860B] text-xs font-bold border border-[#D4AF37]">AAI Chinese</a>
            <a href="#datta-bhel" class="category-pill px-4 py-1 rounded-full bg-[#fcf8e8] text-[#B8860B] text-xs font-bold border border-[#D4AF37]">Datta Bhel</a>
        </div>
    </header>

    <div class="px-4 py-4 sticky top-[105px] z-40">
        <div class="relative max-w-md mx-auto">
            <input type="text" id="searchInput" onkeyup="filterMenu()" placeholder="Search dishes..." class="w-full pl-4 pr-4 py-3 bg-white border border-gray-200 rounded-2xl shadow-sm text-sm outline-none shadow-md">
        </div>
    </div>

    <main class="container mx-auto px-4 py-8">
        <div id="menu-container"></div>

        <div id="cart-bar" class="fixed bottom-0 left-0 right-0 bg-white border-t border-gold p-4 z-50 shadow-2xl flex justify-between items-center">
            <div>
                <p id="cart-count" class="text-xs font-bold text-gray-400">0 ITEMS</p>
                <p id="cart-total" class="text-xl font-bold text-[#D4AF37]">‚Çπ0</p>
            </div>
            <button onclick="sendOrder()" class="gold-gradient text-white px-8 py-3 rounded-xl font-bold">Checkout Order ‚ûî</button>
        </div>

        <section class="mt-20 mb-12">
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-3xl shadow-sm border border-[#D4AF37]/20">
                <h3 class="text-2xl font-bold mb-8 text-center">Customer Reviews ü•∞</h3>
                <form id="feedbackForm" class="space-y-4 mb-10">
                    <input type="text" id="fbName" placeholder="Aapka Naam" required class="w-full px-4 py-3 rounded-xl bg-gray-50 border-none outline-none">
                    <textarea id="fbText" placeholder="Review likhein..." rows="3" required class="w-full px-4 py-3 rounded-xl bg-gray-50 border-none outline-none"></textarea>
                    <button type="submit" class="w-full gold-gradient text-white font-bold py-4 rounded-xl">Post Review</button>
                </form>
                <div id="reviewsContainer" class="space-y-4"></div>
            </div>
        </section>

        <script>
            const WHATSAPP_NUMBER = "917385009275"; 
            let cart = {};

            const menuData = [
                { id: "hotel-harsh", name: "Hotel Harsh", open: 11, close: 23.5, items: [{ name: "Chicken Dry Fry", price: 160 }, { name: "Egg Bhurji", price: 50 }, { name: "Chicken Kabab", price: 100 }, { name: "Special Chicken Curry", price: 120 }, { name: "Chicken Dum Biryani", price: 140 }, { name: "Chicken Thali", price: 150 }] },
                { id: "woleeepa", name: "Woleeepa Cafe", open: 14, close: 22, items: [{ name: "Special Masala Chai", price: 20 }, { name: "Cold Coffee", price: 60 }, { name: "Chicken Sandwich", price: 80 }, { name: "Chicken Burger", price: 80 }] },
                { id: "fadke", name: "Hotel FADKE THAALI", open: 11, close: 22, items: [{ name: "Veg Manchurian Dry", price: 80 }, { name: "Paneer 65", price: 120 }, { name: "Dal Tadka", price: 80 }, { name: "Special Veg Thali", price: 150 }] },
                { id: "vinod", name: "Hotel Vinod", open: 11, close: 23.5, items: [{ name: "Cold Coffee with Ice Cream", price: 80 }, { name: "Masala Fries", price: 60 }, { name: "Chicken Curry", price: 130 }, { name: "Chicken Dum Biryani", price: 150 }, { name: "Chicken Thali", price: 160 }] },
                { id: "red-dragon", name: "Red Dragon", open: 12, close: 22, items: [{ name: "Veg Hakka Noodles", price: 100 }, { name: "Chicken Noodles", price: 150 }, { name: "Chicken Fried Rice", price: 100 }, { name: "Chicken Lollipop", price: 150 }] },
                { id: "aai-chinese", name: "AAI Chinese", open: 12, close: 22, items: [{ name: "Veg Steamed Momos", price: 60 }, { name: "Chicken Fried Momos", price: 100 }, { name: "Dragon Chicken", price: 150 }, { name: "Chicken Drumsticks", price: 160 }] },
                { id: "datta-bhel", name: "Datta Bhel", open: 15, close: 21, items: [{ name: "Classic Pani Puri", price: 30 }, { name: "Sukha Puri", price: 30 }, { name: "Dahi Puri", price: 50 }, { name: "Classic Bhel Puri", price: 40 }] }
            ];

            function isHotelOpen(open, close) {
                const now = new Date();
                const current = now.getHours() + (now.getMinutes() / 60);
                return current >= open && current < close;
            }

            function renderMenu() {
                const container = document.getElementById('menu-container');
                container.innerHTML = "";
                menuData.forEach(hotel => {
                    const open = isHotelOpen(hotel.open, hotel.close);
                    let section = `<section id="${hotel.id}" class="mb-16">
                        <div class="flex justify-between items-end mb-6">
                            <h2 class="text-3xl font-bold border-l-4 border-gold pl-4">${hotel.name}</h2>
                            <span class="text-sm font-bold ${open ? 'text-green-500' : 'text-red-500'}">${open ? 'OPEN' : 'CLOSED'}</span>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">`;
                    hotel.items.forEach(item => {
                        const imgName = item.name.toLowerCase().replace(/ /g, '-').replace(/[()]/g, '');
                        const imgSrc = `images/${hotel.id}/${imgName}.jpg`;
                        const safeID = item.name.replace(/\s+/g, '');
                        section += `
                            <div class="food-card bg-white rounded-2xl shadow-sm flex flex-col ${!open ? 'opacity-50' : ''}">
                                <img src="${imgSrc}" onerror="this.src='images/common-placeholder.jpg'" class="h-44 w-full object-cover">
                                <div class="p-4 flex flex-col flex-grow">
                                    <h4 class="font-bold text-gray-800 text-lg leading-tight">${item.name}</h4>
                                    <p class="text-gold font-bold text-xl mb-4">‚Çπ${item.price}</p>
                                    <div class="flex items-center justify-between mt-auto bg-gray-50 rounded-xl p-2">
                                        <button onclick="${open ? `changeQty('${item.name}', -1, ${item.price}, '${hotel.name}')` : ''}" class="w-10 h-10 bg-white rounded-lg shadow-sm font-bold text-red-500">-</button>
                                        <span id="qty-${safeID}" class="font-bold text-lg">0</span>
                                        <button onclick="${open ? `changeQty('${item.name}', 1, ${item.price}, '${hotel.name}')` : ''}" class="w-10 h-10 bg-white rounded-lg shadow-sm font-bold text-green-500">+</button>
                                    </div>
                                </div>
                            </div>`;
                    });
                    container.innerHTML += section + `</div></section>`;
                });
            }

            function changeQty(name, delta, price, hotel) {
                if(!cart[name]) cart[name] = { price, qty: 0, hotel };
                cart[name].qty += delta;
                if(cart[name].qty <= 0) { cart[name].qty = 0; delete cart[name]; }
                const safeID = name.replace(/\s+/g, '');
                const el = document.getElementById(`qty-${safeID}`);
                if(el) el.innerText = cart[name] ? cart[name].qty : 0;
                updateCart();
            }

            function updateCart() {
                let total = 0, count = 0;
                for(let key in cart) { total += cart[key].price * cart[key].qty; count += cart[key].qty; }
                document.getElementById('cart-count').innerText = `${count} ITEMS`;
                document.getElementById('cart-total').innerText = `‚Çπ${total}`;
                document.getElementById('cart-bar').classList.toggle('active', count > 0);
            }

            function sendOrder() {
                let msg = "New Order from GENZ FOOD:%0A---------------------------%0A";
                let total = 0;
                for(let key in cart) {
                    msg += `‚úÖ ${cart[key].qty}x ${key} (${cart[key].hotel}) - ‚Çπ${cart[key].price * cart[key].qty}%0A`;
                    total += cart[key].price * cart[key].qty;
                }
                msg += `---------------------------%0Aüí∞ *Total: ‚Çπ${total}*`;
                if(confirm("Share Live Location?")) {
                    navigator.geolocation.getCurrentPosition(p => {
                        window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}%0Aüìç Location: http://google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`);
                    }, () => window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`));
                } else {
                    window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`);
                }
            }

            function toggleDarkMode() {
                document.getElementById('body').classList.toggle('dark-mode');
            }

            // Reviews Logic
            const feedbackForm = document.getElementById('feedbackForm');
            const reviewsContainer = document.getElementById('reviewsContainer');
            feedbackForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const name = document.getElementById('fbName').value;
                const text = document.getElementById('fbText').value;
                const newReview = { id: Date.now(), name, text };
                const reviews = JSON.parse(localStorage.getItem('genzFoodReviews')) || [];
                reviews.push(newReview);
                localStorage.setItem('genzFoodReviews', JSON.stringify(reviews));
                renderReview(newReview);
                this.reset();
            });
            function renderReview(rev) {
                const html = `<div class="bg-gray-50 p-4 rounded-2xl border-l-4 border-gold" onclick="if(event.detail===3){if(confirm('Delete?')){let r=JSON.parse(localStorage.getItem('genzFoodReviews')).filter(x=>x.id!==${rev.id});localStorage.setItem('genzFoodReviews',JSON.stringify(r));location.reload();}}">
                    <p class="font-bold text-sm text-gray-800">${rev.name}</p>
                    <p class="text-gray-600 text-sm italic mt-1">"${rev.text}"</p>
                </div>`;
                reviewsContainer.insertAdjacentHTML('afterbegin', html);
            }

            function filterMenu() {
                const input = document.getElementById('searchInput').value.toLowerCase();
                document.querySelectorAll('.food-card').forEach(card => {
                    const title = card.querySelector('h4').innerText.toLowerCase();
                    card.style.display = title.includes(input) ? "flex" : "none";
                });
            }

            window.onload = () => {
                renderMenu();
                const reviews = JSON.parse(localStorage.getItem('genzFoodReviews')) || [];
                reviews.forEach(renderReview);
            };
        </script>
    </main>
</body>
</html>

